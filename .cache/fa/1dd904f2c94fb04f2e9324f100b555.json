{"id":"X7op","dependencies":[{"name":"D:\\workspace\\WEBRTC\\package.json","includedInParent":true,"mtime":1661176492000},{"name":"D:\\workspace\\WEBRTC\\node_modules\\sip.js\\package.json","includedInParent":true,"mtime":1661512190728},{"name":"./emitter","loc":{"line":1,"column":28,"index":28},"parent":"D:\\workspace\\WEBRTC\\node_modules\\sip.js\\lib\\api\\subscription.js","resolved":"D:\\workspace\\WEBRTC\\node_modules\\sip.js\\lib\\api\\emitter.js"},{"name":"./subscription-state","loc":{"line":2,"column":34,"index":75},"parent":"D:\\workspace\\WEBRTC\\node_modules\\sip.js\\lib\\api\\subscription.js","resolved":"D:\\workspace\\WEBRTC\\node_modules\\sip.js\\lib\\api\\subscription-state.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Subscription=void 0;var t=require(\"./emitter\"),e=require(\"./subscription-state\");function i(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function r(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function s(t,e,i){return e&&r(t.prototype,e),i&&r(t,i),Object.defineProperty(t,\"prototype\",{writable:!1}),t}var n=function(){function r(s){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,r),this._disposed=!1,this._state=e.SubscriptionState.Initial,this._logger=s.getLogger(\"sip.Subscription\"),this._stateEventEmitter=new t.EmitterImpl,this._userAgent=s,this.delegate=n.delegate}return s(r,[{key:\"dispose\",value:function(){return this._disposed?Promise.resolve():(this._disposed=!0,this._stateEventEmitter.removeAllListeners(),Promise.resolve())}},{key:\"dialog\",get:function(){return this._dialog}},{key:\"disposed\",get:function(){return this._disposed}},{key:\"state\",get:function(){return this._state}},{key:\"stateChange\",get:function(){return this._stateEventEmitter}},{key:\"stateTransition\",value:function(t){var i=this,r=function(){throw new Error(\"Invalid state transition from \".concat(i._state,\" to \").concat(t))};switch(this._state){case e.SubscriptionState.Initial:t!==e.SubscriptionState.NotifyWait&&t!==e.SubscriptionState.Terminated&&r();break;case e.SubscriptionState.NotifyWait:t!==e.SubscriptionState.Subscribed&&t!==e.SubscriptionState.Terminated&&r();break;case e.SubscriptionState.Subscribed:t!==e.SubscriptionState.Terminated&&r();break;case e.SubscriptionState.Terminated:r();break;default:throw new Error(\"Unrecognized state.\")}this._state!==t&&(this._state=t,this._logger.log(\"Subscription \".concat(this._dialog?this._dialog.id:void 0,\" transitioned to \").concat(this._state)),this._stateEventEmitter.emit(this._state),t===e.SubscriptionState.Terminated&&this.dispose())}}]),r}();exports.Subscription=n;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":0}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":13}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":20}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":35}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":43}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":56}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":57}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":64}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":68}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":76}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":94}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":1,"column":0},"generated":{"line":1,"column":110}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":2,"column":0},"generated":{"line":1,"column":123}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":2,"column":0},"generated":{"line":1,"column":125}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":2,"column":0},"generated":{"line":1,"column":133}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":157}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":166}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":168}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":170}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":173}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":178}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":191}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":194}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":200}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":204}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":214}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":251}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":260}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":262}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":264}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":267}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":271}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":275}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":277}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":279}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":281}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":283}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":290}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":294}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":295}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":299}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":301}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":303}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":306}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":308}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":319}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":321}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":334}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":336}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":338}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":352}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":354}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":364}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":368}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":370}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":380}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":383}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":390}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":405}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":407}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":409}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":413}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":417}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":426}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":428}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":430}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":432}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":435}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":442}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":445}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":447}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":449}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":459}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":462}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":465}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":467}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":469}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":472}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":479}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":494}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":496}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":508}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":509}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":519}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":523}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Subscription","original":{"line":11,"column":13},"generated":{"line":1,"column":525}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Subscription","original":{"line":11,"column":13},"generated":{"line":1,"column":529}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Subscription","original":{"line":11,"column":13},"generated":{"line":1,"column":531}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":4},"generated":{"line":1,"column":542}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"userAgent","original":{"line":17,"column":16},"generated":{"line":1,"column":551}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"userAgent","original":{"line":17,"column":16},"generated":{"line":1,"column":553}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":41},"generated":{"line":1,"column":556}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"options","original":{"line":17,"column":27},"generated":{"line":1,"column":560}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":562}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":572}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":579}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":587}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":591}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":601}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":604}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":614}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":37},"generated":{"line":1,"column":617}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":41},"generated":{"line":1,"column":620}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":41},"generated":{"line":1,"column":622}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":17,"column":41},"generated":{"line":1,"column":627}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":18,"column":8},"generated":{"line":1,"column":630}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_disposed","original":{"line":18,"column":13},"generated":{"line":1,"column":635}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":18,"column":25},"generated":{"line":1,"column":646}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":19,"column":8},"generated":{"line":1,"column":648}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":19,"column":13},"generated":{"line":1,"column":653}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":19,"column":22},"generated":{"line":1,"column":660}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":19,"column":22},"generated":{"line":1,"column":662}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Initial","original":{"line":19,"column":40},"generated":{"line":1,"column":680}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":20,"column":8},"generated":{"line":1,"column":688}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_logger","original":{"line":20,"column":13},"generated":{"line":1,"column":693}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"userAgent","original":{"line":20,"column":23},"generated":{"line":1,"column":701}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"getLogger","original":{"line":20,"column":33},"generated":{"line":1,"column":703}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":20,"column":43},"generated":{"line":1,"column":713}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":21,"column":8},"generated":{"line":1,"column":733}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_stateEventEmitter","original":{"line":21,"column":13},"generated":{"line":1,"column":738}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":21,"column":34},"generated":{"line":1,"column":757}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"EmitterImpl","original":{"line":21,"column":38},"generated":{"line":1,"column":761}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":21,"column":34},"generated":{"line":1,"column":763}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":22,"column":8},"generated":{"line":1,"column":775}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_userAgent","original":{"line":22,"column":13},"generated":{"line":1,"column":780}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"userAgent","original":{"line":22,"column":26},"generated":{"line":1,"column":791}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":23,"column":8},"generated":{"line":1,"column":793}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"delegate","original":{"line":23,"column":13},"generated":{"line":1,"column":798}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"options","original":{"line":23,"column":24},"generated":{"line":1,"column":807}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"delegate","original":{"line":23,"column":32},"generated":{"line":1,"column":809}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":818}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":825}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":827}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":829}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":830}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":831}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":835}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":28,"column":4},"generated":{"line":1,"column":845}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":28,"column":4},"generated":{"line":1,"column":851}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":29,"column":8},"generated":{"line":1,"column":862}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":29,"column":12},"generated":{"line":1,"column":869}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_disposed","original":{"line":29,"column":17},"generated":{"line":1,"column":874}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Promise","original":{"line":30,"column":19},"generated":{"line":1,"column":884}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"resolve","original":{"line":30,"column":27},"generated":{"line":1,"column":892}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":32,"column":8},"generated":{"line":1,"column":903}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_disposed","original":{"line":32,"column":13},"generated":{"line":1,"column":908}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":32,"column":25},"generated":{"line":1,"column":919}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":33,"column":8},"generated":{"line":1,"column":921}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_stateEventEmitter","original":{"line":33,"column":13},"generated":{"line":1,"column":926}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"removeAllListeners","original":{"line":33,"column":32},"generated":{"line":1,"column":945}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Promise","original":{"line":34,"column":15},"generated":{"line":1,"column":966}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"resolve","original":{"line":34,"column":23},"generated":{"line":1,"column":974}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":987}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":988}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":992}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":39,"column":4},"generated":{"line":1,"column":1001}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":39,"column":4},"generated":{"line":1,"column":1005}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":40,"column":8},"generated":{"line":1,"column":1016}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":40,"column":15},"generated":{"line":1,"column":1023}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_dialog","original":{"line":40,"column":20},"generated":{"line":1,"column":1028}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1038}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1039}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1043}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":46,"column":4},"generated":{"line":1,"column":1054}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":46,"column":4},"generated":{"line":1,"column":1058}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":47,"column":8},"generated":{"line":1,"column":1069}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":47,"column":15},"generated":{"line":1,"column":1076}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_disposed","original":{"line":47,"column":20},"generated":{"line":1,"column":1081}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1093}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1094}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1098}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":52,"column":4},"generated":{"line":1,"column":1106}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":52,"column":4},"generated":{"line":1,"column":1110}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":53,"column":8},"generated":{"line":1,"column":1121}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":53,"column":15},"generated":{"line":1,"column":1128}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":53,"column":20},"generated":{"line":1,"column":1133}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1142}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1143}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1147}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":58,"column":4},"generated":{"line":1,"column":1161}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":58,"column":4},"generated":{"line":1,"column":1165}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":59,"column":8},"generated":{"line":1,"column":1176}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":59,"column":15},"generated":{"line":1,"column":1183}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_stateEventEmitter","original":{"line":59,"column":20},"generated":{"line":1,"column":1188}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1209}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1210}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":1214}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":62,"column":4},"generated":{"line":1,"column":1232}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":62,"column":4},"generated":{"line":1,"column":1238}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":62,"column":20},"generated":{"line":1,"column":1247}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":62,"column":30},"generated":{"line":1,"column":1250}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":62,"column":30},"generated":{"line":1,"column":1254}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":62,"column":30},"generated":{"line":1,"column":1256}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"invalidTransition","original":{"line":63,"column":14},"generated":{"line":1,"column":1261}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":63,"column":34},"generated":{"line":1,"column":1263}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":64,"column":12},"generated":{"line":1,"column":1274}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":64,"column":18},"generated":{"line":1,"column":1280}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Error","original":{"line":64,"column":22},"generated":{"line":1,"column":1284}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":64,"column":61},"generated":{"line":1,"column":1290}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":64,"column":61},"generated":{"line":1,"column":1323}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":64,"column":61},"generated":{"line":1,"column":1330}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":64,"column":66},"generated":{"line":1,"column":1332}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":64,"column":79},"generated":{"line":1,"column":1339}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":64,"column":79},"generated":{"line":1,"column":1347}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":64,"column":79},"generated":{"line":1,"column":1354}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":67,"column":8},"generated":{"line":1,"column":1359}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":67,"column":16},"generated":{"line":1,"column":1366}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":67,"column":21},"generated":{"line":1,"column":1371}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":68,"column":12},"generated":{"line":1,"column":1379}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":68,"column":17},"generated":{"line":1,"column":1384}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":68,"column":17},"generated":{"line":1,"column":1386}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Initial","original":{"line":68,"column":35},"generated":{"line":1,"column":1404}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":69,"column":20},"generated":{"line":1,"column":1412}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":69,"column":33},"generated":{"line":1,"column":1416}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":69,"column":33},"generated":{"line":1,"column":1418}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"NotifyWait","original":{"line":69,"column":51},"generated":{"line":1,"column":1436}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":69,"column":65},"generated":{"line":1,"column":1448}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":69,"column":78},"generated":{"line":1,"column":1452}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":69,"column":78},"generated":{"line":1,"column":1454}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Terminated","original":{"line":69,"column":96},"generated":{"line":1,"column":1472}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"invalidTransition","original":{"line":70,"column":20},"generated":{"line":1,"column":1484}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":72,"column":16},"generated":{"line":1,"column":1488}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":73,"column":12},"generated":{"line":1,"column":1494}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":73,"column":17},"generated":{"line":1,"column":1499}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":73,"column":17},"generated":{"line":1,"column":1501}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"NotifyWait","original":{"line":73,"column":35},"generated":{"line":1,"column":1519}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":74,"column":20},"generated":{"line":1,"column":1530}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":74,"column":33},"generated":{"line":1,"column":1534}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":74,"column":33},"generated":{"line":1,"column":1536}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Subscribed","original":{"line":74,"column":51},"generated":{"line":1,"column":1554}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":74,"column":65},"generated":{"line":1,"column":1566}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":74,"column":78},"generated":{"line":1,"column":1570}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":74,"column":78},"generated":{"line":1,"column":1572}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Terminated","original":{"line":74,"column":96},"generated":{"line":1,"column":1590}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"invalidTransition","original":{"line":75,"column":20},"generated":{"line":1,"column":1602}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":77,"column":16},"generated":{"line":1,"column":1606}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":78,"column":12},"generated":{"line":1,"column":1612}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":78,"column":17},"generated":{"line":1,"column":1617}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":78,"column":17},"generated":{"line":1,"column":1619}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Subscribed","original":{"line":78,"column":35},"generated":{"line":1,"column":1637}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":79,"column":20},"generated":{"line":1,"column":1648}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":79,"column":33},"generated":{"line":1,"column":1652}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":79,"column":33},"generated":{"line":1,"column":1654}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Terminated","original":{"line":79,"column":51},"generated":{"line":1,"column":1672}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"invalidTransition","original":{"line":80,"column":20},"generated":{"line":1,"column":1684}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":82,"column":16},"generated":{"line":1,"column":1688}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":83,"column":12},"generated":{"line":1,"column":1694}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":83,"column":17},"generated":{"line":1,"column":1699}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":83,"column":17},"generated":{"line":1,"column":1701}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Terminated","original":{"line":83,"column":35},"generated":{"line":1,"column":1719}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"invalidTransition","original":{"line":84,"column":16},"generated":{"line":1,"column":1730}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":85,"column":16},"generated":{"line":1,"column":1734}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":86,"column":12},"generated":{"line":1,"column":1740}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":87,"column":16},"generated":{"line":1,"column":1748}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":87,"column":22},"generated":{"line":1,"column":1754}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Error","original":{"line":87,"column":26},"generated":{"line":1,"column":1758}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":87,"column":32},"generated":{"line":1,"column":1764}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":90,"column":12},"generated":{"line":1,"column":1787}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":90,"column":17},"generated":{"line":1,"column":1792}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":90,"column":28},"generated":{"line":1,"column":1801}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":94,"column":8},"generated":{"line":1,"column":1805}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":94,"column":13},"generated":{"line":1,"column":1810}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":94,"column":22},"generated":{"line":1,"column":1817}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":8},"generated":{"line":1,"column":1819}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_logger","original":{"line":95,"column":13},"generated":{"line":1,"column":1824}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"log","original":{"line":95,"column":21},"generated":{"line":1,"column":1832}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":41},"generated":{"line":1,"column":1836}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":41},"generated":{"line":1,"column":1852}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":41},"generated":{"line":1,"column":1859}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_dialog","original":{"line":95,"column":46},"generated":{"line":1,"column":1864}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":56},"generated":{"line":1,"column":1872}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_dialog","original":{"line":95,"column":61},"generated":{"line":1,"column":1877}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"id","original":{"line":95,"column":69},"generated":{"line":1,"column":1885}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"undefined","original":{"line":95,"column":74},"generated":{"line":1,"column":1893}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":103},"generated":{"line":1,"column":1895}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":103},"generated":{"line":1,"column":1916}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":95,"column":103},"generated":{"line":1,"column":1923}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":95,"column":108},"generated":{"line":1,"column":1928}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":96,"column":8},"generated":{"line":1,"column":1937}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_stateEventEmitter","original":{"line":96,"column":13},"generated":{"line":1,"column":1942}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"emit","original":{"line":96,"column":32},"generated":{"line":1,"column":1961}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":96,"column":37},"generated":{"line":1,"column":1966}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"_state","original":{"line":96,"column":42},"generated":{"line":1,"column":1971}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"newState","original":{"line":98,"column":12},"generated":{"line":1,"column":1979}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"SubscriptionState","original":{"line":98,"column":25},"generated":{"line":1,"column":1983}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":98,"column":25},"generated":{"line":1,"column":1985}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Terminated","original":{"line":98,"column":43},"generated":{"line":1,"column":2003}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":99,"column":12},"generated":{"line":1,"column":2015}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"dispose","original":{"line":99,"column":17},"generated":{"line":1,"column":2020}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":2035}},{"source":"node_modules/sip.js/lib/api/subscription.js","name":"Subscription","original":{"line":11,"column":13},"generated":{"line":1,"column":2037}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":2040}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":2048}},{"source":"node_modules/sip.js/lib/api/subscription.js","original":{"line":101,"column":5},"generated":{"line":1,"column":2061}}],"sources":{"node_modules/sip.js/lib/api/subscription.js":"import { EmitterImpl } from \"./emitter\";\nimport { SubscriptionState } from \"./subscription-state\";\n/**\n * A subscription provides {@link Notification} of events.\n *\n * @remarks\n * See {@link Subscriber} for details on establishing a subscription.\n *\n * @public\n */\nexport class Subscription {\n    /**\n     * Constructor.\n     * @param userAgent - User agent. See {@link UserAgent} for details.\n     * @internal\n     */\n    constructor(userAgent, options = {}) {\n        this._disposed = false;\n        this._state = SubscriptionState.Initial;\n        this._logger = userAgent.getLogger(\"sip.Subscription\");\n        this._stateEventEmitter = new EmitterImpl();\n        this._userAgent = userAgent;\n        this.delegate = options.delegate;\n    }\n    /**\n     * Destructor.\n     */\n    dispose() {\n        if (this._disposed) {\n            return Promise.resolve();\n        }\n        this._disposed = true;\n        this._stateEventEmitter.removeAllListeners();\n        return Promise.resolve();\n    }\n    /**\n     * The subscribed subscription dialog.\n     */\n    get dialog() {\n        return this._dialog;\n    }\n    /**\n     * True if disposed.\n     * @internal\n     */\n    get disposed() {\n        return this._disposed;\n    }\n    /**\n     * Subscription state. See {@link SubscriptionState} for details.\n     */\n    get state() {\n        return this._state;\n    }\n    /**\n     * Emits when the subscription `state` property changes.\n     */\n    get stateChange() {\n        return this._stateEventEmitter;\n    }\n    /** @internal */\n    stateTransition(newState) {\n        const invalidTransition = () => {\n            throw new Error(`Invalid state transition from ${this._state} to ${newState}`);\n        };\n        // Validate transition\n        switch (this._state) {\n            case SubscriptionState.Initial:\n                if (newState !== SubscriptionState.NotifyWait && newState !== SubscriptionState.Terminated) {\n                    invalidTransition();\n                }\n                break;\n            case SubscriptionState.NotifyWait:\n                if (newState !== SubscriptionState.Subscribed && newState !== SubscriptionState.Terminated) {\n                    invalidTransition();\n                }\n                break;\n            case SubscriptionState.Subscribed:\n                if (newState !== SubscriptionState.Terminated) {\n                    invalidTransition();\n                }\n                break;\n            case SubscriptionState.Terminated:\n                invalidTransition();\n                break;\n            default:\n                throw new Error(\"Unrecognized state.\");\n        }\n        // Guard against duplicate transition\n        if (this._state === newState) {\n            return;\n        }\n        // Transition\n        this._state = newState;\n        this._logger.log(`Subscription ${this._dialog ? this._dialog.id : undefined} transitioned to ${this._state}`);\n        this._stateEventEmitter.emit(this._state);\n        // Dispose\n        if (newState === SubscriptionState.Terminated) {\n            this.dispose();\n        }\n    }\n}\n"},"lineCount":null}},"error":null,"hash":"6a98009d71d113a5d3b4c564e8442dc0","cacheData":{"env":{}}}